import type {Metadata} from 'next';import {NextIntlClientProvider} from 'next-intl';import {unstable_setRequestLocale} from 'next-intl/server';import {getMessages} from '@/i18n/getMessages';import {defaultLocale,isRTL,Locale,locales} from '@/i18n/config';import '@/styles/globals.css';import LanguageSwitcher from '@/components/LanguageSwitcher';export const metadata:Metadata={title:'حاوية | Haweya',description:'B2B Food Supply & Auctions'};export function generateStaticParams(){return locales.map(l=>({locale:l}));}export default async function LocaleLayout({children,params}:{children:React.ReactNode,params:{locale:Locale}}){const locale=params.locale??defaultLocale;unstable_setRequestLocale(locale);const messages=await getMessages(locale);const dir=isRTL(locale)?'rtl':'ltr';return (<html lang={locale} dir={dir}><body><NextIntlClientProvider locale={locale} messages={messages}><header className='header container'><div className='logo'><span className='logo-mark'/><span>{messages.appName as string}</span></div><div className='nav-actions'><a className='btn ghost' href={`/${locale}/auth/login?role=client`}>{messages.cta_client as string}</a><a className='btn ghost' href={`/${locale}/auth/login?role=supplier`}>{messages.cta_supplier as string}</a><LanguageSwitcher/></div></header><main className='container'>{children}</main><footer className='container'>© {new Date().getFullYear()} Haweya</footer></NextIntlClientProvider></body></html>);}
